sequenceDiagram
actor CA as Compras/Admin
CA ->> ProjecaoComprasRelAction : projetarComprasLote
activate ProjecaoComprasRelAction
ProjecaoComprasRelAction ->> ProjecaoComprasRelAction : validar_projetarComprasLote
activate ProjecaoComprasRelAction
ProjecaoComprasRelAction -->> ProjecaoComprasRelAction : #32; 
deactivate ProjecaoComprasRelAction
ProjecaoComprasRelAction ->> ItemService : new
activate ItemService
ItemService ->> ItemDAO : new
activate ItemDAO
ItemDAO -->> ItemService : #32; 
deactivate ItemDAO
ItemService -->> ProjecaoComprasRelAction : #32; 
deactivate ItemService
ProjecaoComprasRelAction ->> ItemService : somarInsumoListaPrincipal(materiaisFabricadosDoLote)
activate ItemService
ItemService ->> ItemService : getListaMaterial(idItem)
activate ItemService
ItemService ->> ItemDAO : getListaMaterial(idItem)
activate ItemDAO
ItemDAO ->> ItemDAO : getItem(idItem)
activate ItemDAO
ItemDAO ->> ItemDAO : getCotacaoItemComprado(idItem)
activate ItemDAO
ItemDAO -->> ItemDAO : #32; 
deactivate ItemDAO
ItemDAO -->> ItemDAO : #32; 
deactivate ItemDAO
ItemDAO -->> ItemService : #32; 
deactivate ItemDAO
ItemService -->> ItemService : #32; 
deactivate ItemService
ItemService -->> ProjecaoComprasRelAction : #32; 
deactivate ItemService
ProjecaoComprasRelAction ->> ItemService : getQtdeAComprar(Material)
activate ItemService
ItemService -->> ProjecaoComprasRelAction : #32; 
deactivate ItemService
ProjecaoComprasRelAction ->> ItemService : getItensAComprar(listaItensComprar)
activate ItemService
ItemService ->> ItemDAO : getItensAComprar(listaItensComprar)
activate ItemDAO
ItemDAO ->> ItemDAO : getItem(idItem)
activate ItemDAO
ItemDAO ->> ItemDAO : getCotacaoItemComprado(idItem)
activate ItemDAO
ItemDAO -->> ItemDAO : #32; 
deactivate ItemDAO
ItemDAO -->> ItemDAO : #32; 
deactivate ItemDAO
ItemDAO -->> ItemService : #32; 
deactivate ItemDAO
ItemService -->> ProjecaoComprasRelAction : #32; 
deactivate ItemService
ProjecaoComprasRelAction ->> ItemService : ordenarMateriaisPorFornecedor(listaMateriais)
activate ItemService
ItemService -->> ProjecaoComprasRelAction : #32; 
deactivate ItemService
ProjecaoComprasRelAction ->> ItemService : getQtdeAComprar(Material)
activate ItemService
ItemService -->> ProjecaoComprasRelAction : #32; 
deactivate ItemService
deactivate ProjecaoComprasRelAction
