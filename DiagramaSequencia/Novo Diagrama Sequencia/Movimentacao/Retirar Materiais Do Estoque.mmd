sequenceDiagram
actor AA as Admin/Almoxarifado
AA ->> MovimentacaoAction : retirarMateriaisDoEstoque (ID Item, Qtde, NÂ° de Serie)
activate MovimentacaoAction
MovimentacaoAction ->> MovimentacaoAction : validar_RetirarMateriaisDoEstoque
activate MovimentacaoAction
MovimentacaoAction ->> ItemService : new (idItem, qtde, nrSerie)
activate ItemService
ItemService ->> ItemDAO : new (idItem, qtde, nrSerie)
activate ItemDAO
ItemDAO -->> ItemService : #32; 
deactivate ItemDAO
ItemService -->> MovimentacaoAction : #32; 
deactivate ItemService
MovimentacaoAction ->> ItemService : existeItemComNrSerieEmEstoque(idItem, nrSerie)
activate ItemService
ItemService ->> MovimentacaoService : new
activate MovimentacaoService
MovimentacaoService ->> MovimentacaoDAO : new
activate MovimentacaoDAO
MovimentacaoDAO -->> MovimentacaoService : #32; 
deactivate MovimentacaoDAO
MovimentacaoService -->> ItemService : #32; 
deactivate MovimentacaoService
ItemService ->> MovimentacaoService : getMovimentacoes(idItem, nrSerie)
activate MovimentacaoService
MovimentacaoService ->> MovimentacaoDAO : getMovimentacoes(idItem, nrSerie)
activate MovimentacaoDAO
MovimentacaoDAO ->> ItemService : new
activate ItemService
ItemService -->> MovimentacaoDAO : #32; 
deactivate ItemService
MovimentacaoDAO ->> MovimentacaoDAO : getMovimentacao(idItem)
activate MovimentacaoDAO
MovimentacaoDAO -->> MovimentacaoDAO : #32; 
deactivate MovimentacaoDAO
MovimentacaoDAO -->> MovimentacaoService : #32; 
deactivate MovimentacaoDAO
MovimentacaoService -->> ItemService : #32; 
deactivate MovimentacaoService
ItemService -->> MovimentacaoAction : #32; 
deactivate ItemService
MovimentacaoAction -->> MovimentacaoAction : #32; 
deactivate MovimentacaoAction
MovimentacaoAction ->> MovimentacaoService : new
activate MovimentacaoService
MovimentacaoService ->> MovimentacaoDAO : new
activate MovimentacaoDAO
MovimentacaoDAO -->> MovimentacaoService : #32; 
deactivate MovimentacaoDAO
MovimentacaoService -->> MovimentacaoAction : #32; 
deactivate MovimentacaoService
MovimentacaoAction ->> MovimentacaoService : retirarDoEstoque(movimentacao)
activate MovimentacaoService
MovimentacaoService ->> MovimentacaoDAO : retirarDoEstoque(movimentacao)
activate MovimentacaoDAO
MovimentacaoDAO ->> MovimentacaoDAO : movimentar(movimentacao)
activate MovimentacaoDAO
MovimentacaoDAO -->> MovimentacaoDAO : #32; 
deactivate MovimentacaoDAO
MovimentacaoDAO -->> MovimentacaoService : #32; 
deactivate MovimentacaoDAO
MovimentacaoService -->> MovimentacaoAction : #32; 
deactivate MovimentacaoService
deactivate MovimentacaoAction
